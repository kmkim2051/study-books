# [아이템 63] 문자열 연결은 느리니 주의하라

### 문자열 연결 연산자 +

- 여러 문자열을 하나로 합쳐주는 편리한 수단
- 한 줄짜리 출력값 또는 작고 고정된 문자열 표현에는 적합
- 본격적으로 사용하면 성능 저하
    - 문자열 n개를 잇는 시간은 n^2에 비례
    - 불변이므로 양쪽 내용을 모두 복사해야 하기 때문

```java
// 문자열 연결을 잘못 사용한 예 (느림) 
public String statement() {
  String result = "";
  for (int i = 0; i < numItems(); i++)
    result += lineForItem(i) // 문자열 연결
  return result;
}
```

- StringBuilder를 사용한 성능 개선

```java
public String statement2() {
  StringBuilder b = new StringBuilder(numItems() * LINE_WIDTH);
  for (int i = 0; i < numItems(); i++)
    b.append(lineForItem(i));
  return b.toString();
}
```

품목이 100개, lineForItem이 길이 80인 문자열 리턴

→ 6.5배 정도 빨라짐

- String 연결은 제곱에 비례해 느려짐
- StringBuilder는 선형

### 정리

성능에 신경쓴다면, 문자열 연결 대신 StringBuilder의 append 를 사용하자.

- 문자 배열 또는 문자열 개별 처리 방법도 있다.