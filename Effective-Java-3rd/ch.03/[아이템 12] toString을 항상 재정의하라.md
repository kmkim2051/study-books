# [아이템 12] toString을 항상 재정의하라

### **toString 을 재정의하지 않으면?**

기본 구현은 단순히 **클래스이름@16진수해시코드** 를 반환

### **toString 구현의 장점**

toString을 잘 구현하면 사용하기 편하고, 디버깅하기 쉽다.

직접 호출하지 않아도 printf, +, assert, log 등에 넘길 때 자동으로 호출된다.

### **실전에서 toString은 그 객체가 가진 주요 정보를 모두 반환하는 것이 좋다.**

다만 객체가 너무 크거나, 문자열로 표현하기 적합하지 않다면 요약 정보를 담는다.

**예시**

- 전화번호부(총 12341234개)
- Thread[main, 5, main]

**주요 정보를 담지 않아서 생기는 문제 예시**

> Error: expected (123, “hello”), but was (123, “hello”)
> 

### 반환값 포맷을 문서화할지 정해야 한다.

전화번호, 행렬 값 등은 문서화하기를 권장

- 표준, 명확, 가독성 → 입출력에 사용, 데이터 객체로 저장 할 수 있음
- 명시한 포맷에 맞는 문자열과 객체를 상호 전환할 수 있는 정적 팩터리나 생성자를 제공하면 좋음
    - BigInteger, BigDecimal 등
- 포맷을 한번 명시하면, 평생 그 포맷에 얽매이는 단점
    - 다양한 클라이언트들이 파싱하는데, 포맷 변경 시 문제 발생

### 포맷을 명시하든 아니든 의도는 명확히 밝혀야 한다.

주석 등으로 포맷 의미, 변경 가능성 등을 명확히 표기

### toString이 반환한 값에 포함된 정보를 얻을 수 있는 API 를 제공한다.

PhoneNumber의 경우, 지역 코드, 프리픽스, 가입자 번호용 접근자를 제공해야 한다.

그렇지 않으면 toString을 직접 파싱하며 성능이 나빠지고 향후 변경에 대비하기 어렵다.

### 정적 유틸리티 클래스는 toString을 제공할 필요 없다.

### 대부분의 열거 타입도 굳이 toString을 제공할 필요 없다.

### 하위 클래스가 공유해야 할 문자열 표현이 있는 추상클래스라면 toString을 재정의해야 함

주로 추상 컬렉션 클래스에 해당

Map(key=value, key=value) 등